{"version":3,"sources":["store/cart-context.js","components/Layout/HeaderCartButton.module.css","components/Meals/MealItem/MealItem.module.css","components/Layout/Header.module.css","components/UI/Input.js","components/UI/Card.module.css","components/Meals/AvailableMeals.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/Meals/MealsSummary.module.css","assets/meals.jpg","assets/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","hooks/use-http.js","components/UI/Card.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvilableMeals.js","components/Meals/MealsSummary.js","components/Meals/Meals.js","store/CartContextProvider.js","App.js","index.js"],"names":["CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearCart","module","exports","Input","forwardRef","props","ref","inputRef","useRef","getCurrValue","current","value","useImperativeHandle","className","classes","input","htmlFor","label","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","useState","btnIsHighLighted","setBtnIsHighLighted","useContext","numberOfCartItems","reduce","acc","curr","amount","btnClasses","button","bump","useEffect","length","timer","setTimeout","clearTimeout","onClick","icon","badge","Header","header","onOpenCart","src","HeaderBg","alt","useHttp","isLoading","setIsLoading","error","setError","sendRequest","useCallback","requestConfig","applyData","a","fetch","url","method","headers","body","JSON","stringify","response","ok","Error","json","data","message","Card","card","children","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","form","onSubmit","event","preventDefault","enteredAmount","enteredAmountNumber","trim","onAddToCart","type","max","min","step","defaultValue","MealItem","cartCtx","price","toFixed","meal","name","description","AvilableMeals","meals","setMeals","fetchMeals","mealObj","loadedMeals","mealKey","push","mealsList","map","MealsSummary","classess","summary","Meals","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","updatedAmount","filter","CartContextProvider","useReducer","cartState","dispatchCartAction","Provider","Cart","lazy","App","cartIsVisible","setCartIsVisible","Fragment","fallback","onClose","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5746a21b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n// mange overall data through context because we will need it in different places of the application\r\n// in the mealItem we need to update the cart\r\n// in the cart component we need to output it and mange it\r\n\r\nconst CartContext = React.createContext({\r\n    items : [],\r\n    totalAmount : 0,\r\n    addItem : (item) => {},\r\n    removeItem : (id) => {},\r\n    clearCart: () => {}\r\n})\r\n\r\nexport default CartContext;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__2PYfn\",\"icon\":\"HeaderCartButton_icon__3Wpam\",\"badge\":\"HeaderCartButton_badge__1jtXQ\",\"bump\":\"HeaderCartButton_bump__1Hc6B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3tpdw\",\"description\":\"MealItem_description__3s4VQ\",\"price\":\"MealItem_price__2SWWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1tA0X\",\"main-image\":\"Header_main-image__1NooX\"};","import React from \"react\";\r\nimport { useRef,useImperativeHandle } from \"react\";\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  const inputRef = useRef();\r\n\r\n  const getCurrValue = () => inputRef.current.value;\r\n\r\n \r\n  useImperativeHandle(ref,() => {\r\n    return {\r\n      value : getCurrValue\r\n    }\r\n  })\r\n  \r\n  return (\r\n    <div className={props.className || classes.input}>\r\n      <label htmlFor={props.input.id}>{props.label}</label>\r\n      <input ref={inputRef} {...props.input} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__c3lzk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__3cWC8\",\"meals-appear\":\"AvailableMeals_meals-appear__1DnQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__32dYR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__a7gDZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__3tt1_\"};","export default __webpack_public_path__ + \"static/media/meals.56238dba.jpg\";","import React from \"react\";\r\n\r\nconst CartIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n    </svg>\r\n  );\r\n};\r\nexport default CartIcon;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport CartIcon from \"../../assets/CartIcon\";\r\nimport classes from \"./HeaderCartButton.module.css\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const [btnIsHighLighted, setBtnIsHighLighted] = useState(false);\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const { items } = cartCtx;\r\n  // reduce is a method which allow us to transform an array of data into a single value  (here the value is number)\r\n  const numberOfCartItems = items.reduce((acc, curr) => {\r\n    return acc + curr.amount;\r\n  }, 0);\r\n\r\n  const btnClasses = `${classes.button} ${\r\n    btnIsHighLighted ? classes.bump : \"\"\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setBtnIsHighLighted(true);\r\n    // set timer to remove the bump class after adding it\r\n    // 300 is the duration of bump animation\r\n    const timer = setTimeout(() => setBtnIsHighLighted(false), 300);\r\n    //   clean up function\r\n    // we do need this here because, of this timer can be set again befor it expired if we add multiple items rapidly after each other we wanna clear the old timer and make sure that a new timer is set and the old timer is cleared\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n  return (\r\n    <button className={btnClasses} onClick={props.onClick}>\r\n      <span className={classes.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your cart</span>\r\n      <span className={classes.badge}>{numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n};\r\nexport default HeaderCartButton;\r\n","import React from \"react\";\r\nimport classes from \"./Header.module.css\";\r\nimport HeaderBg from \"../../assets/meals.jpg\";\r\nimport { Fragment } from \"react/cjs/react.production.min\";\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <Fragment>\r\n      <header className={classes.header}>\r\n        <h2>Food order app</h2>\r\n        <HeaderCartButton onClick={props.onOpenCart} />\r\n      </header>\r\n\r\n      <div className={classes[\"main-image\"]}>\r\n        <img src={HeaderBg} alt=\"food table\" />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\nexport default Header;\r\n","import { useState, useCallback } from 'react';\r\nconst useHttp = () => {\r\n    const [isLoading,setIsLoading] = useState(false);\r\n    const [error,setError] = useState(null)\r\n// SEND REQUEST\r\n    const sendRequest = useCallback(async (requestConfig, applyData) => {\r\n        setIsLoading(true);\r\n        setError(null)\r\n        try{\r\n            const response = await fetch(requestConfig.url, {\r\n                method:requestConfig.method ?  requestConfig.method : 'GET',\r\n                headers: requestConfig.headers ? requestConfig.headers : {},\r\n                body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n            });\r\n            if(!response.ok){\r\n                throw new Error('Request Failed')\r\n            }\r\n            const data = await response.json();\r\n            applyData(data);\r\n        } catch (err) {\r\n            setError(err.message || 'Something wrong')\r\n        }\r\n        setIsLoading(false)\r\n    }, []);\r\n    return {\r\n        isLoading,\r\n        error,\r\n        sendRequest\r\n    }\r\n}\r\nexport default useHttp;","import classes from \"./Card.module.css\";\r\nconst Card = (props) => {\r\n    return (\r\n        <div className={classes.card}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\nexport default Card;","import React, { useRef, useState } from \"react\";\r\nimport Input from \"../../UI/Input\";\r\nimport classes from \"./MealItemForm.module.css\";\r\n\r\nconst MealItemForm = (props) => {\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n  const amountInputRef = useRef();\r\n  const submitFormHandler = (event) => {\r\n    event.preventDefault();\r\n    // get the entered amount from the input using ref\r\n    const enteredAmount = amountInputRef.current.value;\r\n    // convert enterd value from  string to number\r\n    const enteredAmountNumber = +enteredAmount;\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 5\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n    // call a function which expect to get on props and forward entered amount number. because the cart item needs more data than just the entered amount, here we only have the amount thts why we need to calling the context method in the meal item component\r\n    props.onAddToCart(enteredAmountNumber);\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={submitFormHandler}>\r\n      {/* extract entered amount, use ref for that */}\r\n      <Input\r\n        input={{\r\n          ref: amountInputRef,\r\n          id: \"amount_\" + props.id,\r\n          type: \"number\",\r\n          max: 5,\r\n          min: 1,\r\n          step: 1,\r\n          defaultValue: 1,\r\n        }}\r\n        label={\"Amount\"}\r\n      />\r\n      <button>+Add</button>\r\n      {!amountIsValid && <p>amount is not valid</p>}\r\n    </form>\r\n  );\r\n};\r\nexport default MealItemForm;\r\n","import React, { useContext } from \"react\";\r\nimport classes from \"./MealItem.module.css\";\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport CartContext from \"../../../store/cart-context\";\r\nconst MealItem = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  const addToCartHandler = (amount) => {\r\n    cartCtx.addItem({\r\n      id: props.id,\r\n      name: props.name,\r\n      amount : amount,\r\n      price: props.price\r\n    })\r\n  };\r\n\r\n  return (\r\n    <li className={classes.meal}>\r\n      <div>\r\n        <h3>{props.name}</h3>\r\n        <span className={classes.description}>{props.description}</span>\r\n        <div className={classes.price}>{price}</div>\r\n      </div>\r\n      <div>\r\n        <MealItemForm id={props.id} onAddToCart={addToCartHandler} />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\nexport default MealItem;\r\n","import useHttp from \"../../hooks/use-http\";\r\nimport Card from \"../UI/Card\";\r\nimport classes from \"./AvailableMeals.module.css\";\r\nimport MealItem from \"./MealItem/MealItem\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst AvilableMeals = () => {\r\n  // ***************Fetch the data from the firebase ***************\r\n  // meals state is the list of data that we got from firebase api as json data then we convert it to js data\r\n  const [meals, setMeals] = useState([]);\r\n  // use http the custom hook used to handle with api\r\n  const { isLoading, error, sendRequest: fetchMeals } = useHttp();\r\n  // get data and handle it\r\n  useEffect(() => {\r\n    // get the data as JSON and convert it to js then save it in the meals state array\r\n    const transformMeals = (mealObj) => {\r\n      const loadedMeals = [];\r\n      for (const mealKey in mealObj) {\r\n        loadedMeals.push({\r\n          id: mealKey,\r\n          name: mealObj[mealKey].name,\r\n          description: mealObj[mealKey].description,\r\n          price: mealObj[mealKey].price,\r\n        });\r\n      }\r\n      setMeals(loadedMeals);\r\n    };\r\n    fetchMeals(\r\n      {\r\n        url: \"https://react-http-3176c-default-rtdb.firebaseio.com/meals.json\",\r\n      },\r\n      transformMeals\r\n    );\r\n  }, [fetchMeals]);\r\n\r\n  const mealsList = meals.map((meal) => (\r\n    <MealItem\r\n      key={meal.id}\r\n      id={meal.id}\r\n      name={meal.name}\r\n      description={meal.description}\r\n      price={meal.price}\r\n    />\r\n  ));\r\n\r\n  // *************** End fetch the data ***************\r\n\r\n  return (\r\n    <section className={classes.meals}>\r\n      <Card>\r\n        {isLoading && <p>Loading...</p>}\r\n        {error && <p>error</p>}\r\n        <ul>{mealsList}</ul>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\nexport default AvilableMeals;\r\n","import React from \"react\";\r\nimport classess from \"./MealsSummary.module.css\";\r\n\r\nconst MealsSummary = () => {\r\n  return (\r\n    <section className={classess.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals\r\n        and enjoy a delicious lunch or dinner at home.\r\n      </p>\r\n      <p>a\r\n        All our meals are cooked with high-quality ingredients, just-in-time and\r\n        of course by experienced chefs!\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealsSummary;","import React from \"react\";\r\nimport { Fragment } from \"react/cjs/react.production.min\";\r\nimport AvilableMeals from \"./AvilableMeals\";\r\nimport MealsSummary from \"./MealsSummary\";\r\n\r\nconst Meals = () => {\r\n  return (\r\n    <Fragment>\r\n      <MealsSummary />\r\n      <AvilableMeals />\r\n    </Fragment>\r\n  );\r\n};\r\nexport default Meals;\r\n","import React, { useReducer } from \"react\";\r\nimport CartContext from \"./cart-context\";\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n// The action is dispatched by you in your code\r\n// the state is the last state snapshot of the state manged by the reducer\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === \"ADD_ITEM\") {\r\n    // update cart items\r\n    //  add our items as a new item in that array\r\n    //group items for the same meal together and mange the amount on a per meal basis\r\n    //concat adds new item to an array, unlike push it doesn't edit the existing array but return a new array\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    // get the existing cart item index\r\n    // findIndex() is a method which finds the index of an item in an array, first arg is a func which should return true if that the item we're looking for, and false otherwise\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.item.id\r\n    );\r\n    // Get the existing cart Item\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n    let updatedItems;\r\n    // here we just update the amount of existing item\r\n    if (existingCartItem) {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  // ****************** REMOVE ITEM ***************************\r\n  if (action.type === \"REMOVE_ITEM\") {\r\n    // get the existing cart item index\r\n    // findIndex() is a method which finds the index of an item in an array, first arg is a func which should return true if that the item we're looking for, and false otherwise\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.id\r\n    );\r\n\r\n    // Get the existing cart Item\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n    // Updated Amount\r\n    const updatedAmount = state.totalAmount - existingCartItem.price;\r\n\r\n    let updatedItems;\r\n    // Delete the item from the cart when the amount is = 0\r\n    if (existingCartItem.amount === 1) {\r\n      // filter give us a new array which don't contain item that have that id\r\n      updatedItems = state.items.filter((item) => item.id !== action.id);\r\n    }\r\n\r\n    // here dont delete the item just update the total amount of it by -1\r\n    else {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount - 1,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedAmount,\r\n    };\r\n  }\r\n  if (action.type === 'CLEAR') {\r\n    return defaultCartState;\r\n  }\r\n  return defaultCartState;\r\n};\r\n\r\nconst CartContextProvider = (props) => {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n  const addItemToCartHandler = (item) => {\r\n    dispatchCartAction({ type: \"ADD_ITEM\", item: item });\r\n  };\r\n  const removeItemFromCartHandler = (id) => {\r\n    dispatchCartAction({ type: \"REMOVE_ITEM\", id: id });\r\n  };\r\n  const clearCartHandler = () => {\r\n    dispatchCartAction({type: 'CLEAR'})\r\n  }\r\n  const cartCtx = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemFromCartHandler,\r\n    clearCart: clearCartHandler\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartCtx}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\nexport default CartContextProvider;\r\n","import React, { Suspense, useState } from \"react\";\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\nimport CartContextProvider from \"./store/CartContextProvider\";\n\nconst Cart = React.lazy(() => import(\"./components/Cart/Cart\"));\n\nfunction App() {\n  const [cartIsVisible, setCartIsVisible] = useState(false);\n\n  const showCartHandler = () => {\n    setCartIsVisible(true);\n  };\n\n  const closeCartHandler = () => {\n    setCartIsVisible(false);\n  };\n\n  return (\n    <React.Fragment>\n      <Suspense\n        fallback={\n          <div className=\"centered\">\n            <p>Loading...</p>\n          </div>\n        }\n      >\n        <CartContextProvider>\n          {cartIsVisible && <Cart onClose={closeCartHandler}></Cart>}\n          <Header onOpenCart={showCartHandler} />\n          <main>\n            <Meals />\n          </main>\n        </CartContextProvider>\n      </Suspense>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}